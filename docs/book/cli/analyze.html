<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Analysis Command - BSharp C# Parser Documentation</title>


        <!-- Custom HTML head -->

        <meta name="description" content="Comprehensive documentation for the BSharp C# parser and analysis toolkit">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../custom.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "../searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">BSharp C# Parser Documentation</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/mikserek/bsharp" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/mikserek/bsharp/edit/main/docs/./cli/analyze.md" title="Suggest an edit" aria-label="Suggest an edit" rel="edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="analyze-command"><a class="header" href="#analyze-command">Analyze Command</a></h1>
<p>The <code>analyze</code> command performs comprehensive code analysis on C# files, projects, or solutions, generating detailed reports with diagnostics, metrics, and quality assessments.</p>
<hr />
<h2 id="usage"><a class="header" href="#usage">Usage</a></h2>
<pre><code class="language-bash">bsharp analyze &lt;INPUT&gt; [OPTIONS]
</code></pre>
<h3 id="arguments"><a class="header" href="#arguments">Arguments</a></h3>
<p><strong><code>&lt;INPUT&gt;</code></strong> (required)</p>
<ul>
<li>Path to C# source file (<code>.cs</code>)</li>
<li>Path to project file (<code>.csproj</code>)</li>
<li>Path to solution file (<code>.sln</code>)</li>
<li>Path to directory</li>
</ul>
<hr />
<h2 id="options"><a class="header" href="#options">Options</a></h2>
<h3 id="output-options"><a class="header" href="#output-options">Output Options</a></h3>
<p><strong><code>--out &lt;FILE&gt;</code></strong></p>
<ul>
<li>Output file path for analysis report (JSON)</li>
<li>Default: stdout</li>
<li>Creates parent directories if needed</li>
</ul>
<p><strong><code>--format &lt;FORMAT&gt;</code></strong></p>
<ul>
<li>Output format: <code>json</code> (compact) or <code>pretty-json</code> (indented)</li>
<li>Default: <code>pretty-json</code></li>
</ul>
<h3 id="configuration"><a class="header" href="#configuration">Configuration</a></h3>
<p><strong><code>--config &lt;FILE&gt;</code></strong></p>
<ul>
<li>Path to analysis configuration file (JSON or TOML)</li>
<li>Overrides default settings</li>
<li>CLI flags override config file settings</li>
</ul>
<h3 id="workspace-options"><a class="header" href="#workspace-options">Workspace Options</a></h3>
<p><strong><code>--follow-refs &lt;BOOL&gt;</code></strong></p>
<ul>
<li>Follow ProjectReference dependencies transitively</li>
<li>Default: <code>true</code></li>
<li>Set to <code>false</code> to analyze only specified project</li>
</ul>
<p><strong><code>--include &lt;GLOB&gt;...</code></strong></p>
<ul>
<li>Include only files matching glob patterns</li>
<li>Multiple patterns allowed</li>
<li>Example: <code>--include "**/*Service.cs" "**/*Controller.cs"</code></li>
</ul>
<p><strong><code>--exclude &lt;GLOB&gt;...</code></strong></p>
<ul>
<li>Exclude files matching glob patterns</li>
<li>Multiple patterns allowed</li>
<li>Example: <code>--exclude "**/obj/**" "**/bin/**" "**/Tests/**"</code></li>
</ul>
<h3 id="analysis-control"><a class="header" href="#analysis-control">Analysis Control</a></h3>
<p><strong><code>--enable-ruleset &lt;ID&gt;...</code></strong></p>
<ul>
<li>Enable specific rulesets by ID</li>
<li>Multiple IDs allowed</li>
<li>Overrides config file</li>
<li>Example: <code>--enable-ruleset naming quality</code></li>
</ul>
<p><strong><code>--disable-ruleset &lt;ID&gt;...</code></strong></p>
<ul>
<li>Disable specific rulesets by ID</li>
<li>Multiple IDs allowed</li>
<li>Example: <code>--disable-ruleset experimental</code></li>
</ul>
<p><strong><code>--enable-pass &lt;ID&gt;...</code></strong></p>
<ul>
<li>Enable specific analysis passes by ID</li>
<li>Multiple IDs allowed</li>
<li>Example: <code>--enable-pass indexing control_flow</code></li>
</ul>
<p><strong><code>--disable-pass &lt;ID&gt;...</code></strong></p>
<ul>
<li>Disable specific analysis passes by ID</li>
<li>Multiple IDs allowed</li>
<li>Example: <code>--disable-pass dependencies</code></li>
</ul>
<p><strong><code>--severity &lt;CODE=LEVEL&gt;...</code></strong></p>
<ul>
<li>Override diagnostic severity for specific codes</li>
<li>Format: <code>CODE=level</code> where level is <code>error</code>, <code>warning</code>, <code>info</code>, or <code>hint</code></li>
<li>Multiple overrides allowed</li>
<li>Example: <code>--severity MET001=error QUAL010=warning</code></li>
</ul>
<h3 id="legacy-options-single-file-mode"><a class="header" href="#legacy-options-single-file-mode">Legacy Options (Single File Mode)</a></h3>
<p><strong><code>--symbol &lt;NAME&gt;</code></strong></p>
<ul>
<li>Search for specific symbol by name</li>
<li>Only works in single-file mode</li>
<li>Prints symbol locations and information</li>
</ul>
<hr />
<h2 id="examples"><a class="header" href="#examples">Examples</a></h2>
<h3 id="basic-analysis"><a class="header" href="#basic-analysis">Basic Analysis</a></h3>
<pre><code class="language-bash"># Analyze single file
bsharp analyze MyFile.cs

# Analyze project
bsharp analyze MyProject.csproj

# Analyze solution
bsharp analyze MySolution.sln
</code></pre>
<h3 id="output-to-file"><a class="header" href="#output-to-file">Output to File</a></h3>
<pre><code class="language-bash"># Save report to file
bsharp analyze MyProject.csproj --out report.json

# Compact JSON format
bsharp analyze MyProject.csproj --out report.json --format json
</code></pre>
<h3 id="using-configuration-file"><a class="header" href="#using-configuration-file">Using Configuration File</a></h3>
<pre><code class="language-bash"># Load config from file
bsharp analyze MyProject.csproj --config .bsharp.toml

# Config file with CLI overrides
bsharp analyze MyProject.csproj \
    --config .bsharp.toml \
    --enable-ruleset quality \
    --severity MET001=error
</code></pre>
<h3 id="workspace-filtering"><a class="header" href="#workspace-filtering">Workspace Filtering</a></h3>
<pre><code class="language-bash"># Analyze only service files
bsharp analyze MySolution.sln --include "**/*Service.cs"

# Exclude test files
bsharp analyze MySolution.sln --exclude "**/Tests/**"

# Multiple filters
bsharp analyze MySolution.sln \
    --include "src/**/*.cs" \
    --exclude "**/obj/**" "**/bin/**" "**/Tests/**"
</code></pre>
<h3 id="controlling-analysis"><a class="header" href="#controlling-analysis">Controlling Analysis</a></h3>
<pre><code class="language-bash"># Enable specific rulesets
bsharp analyze MyProject.csproj \
    --enable-ruleset naming quality control_flow

# Disable experimental features
bsharp analyze MyProject.csproj \
    --disable-ruleset experimental

# Enable/disable specific passes
bsharp analyze MyProject.csproj \
    --enable-pass indexing control_flow \
    --disable-pass dependencies
</code></pre>
<h3 id="severity-overrides"><a class="header" href="#severity-overrides">Severity Overrides</a></h3>
<pre><code class="language-bash"># Treat specific warnings as errors
bsharp analyze MyProject.csproj \
    --severity MET001=error \
    --severity QUAL001=error

# Downgrade specific errors to warnings
bsharp analyze MyProject.csproj \
    --severity CS0168=warning
</code></pre>
<h3 id="symbol-search-single-file"><a class="header" href="#symbol-search-single-file">Symbol Search (Single File)</a></h3>
<pre><code class="language-bash"># Find symbol in file
bsharp analyze MyFile.cs --symbol MyClass

# Output:
# Found symbol 'MyClass' at line 10, column 14
</code></pre>
<hr />
<h2 id="analysis-modes"><a class="header" href="#analysis-modes">Analysis Modes</a></h2>
<h3 id="single-file-mode"><a class="header" href="#single-file-mode">Single File Mode</a></h3>
<p><strong>Triggered when:</strong> Input is a <code>.cs</code> file</p>
<p><strong>Behavior:</strong></p>
<ul>
<li>Parses single file</li>
<li>Runs analysis pipeline on CompilationUnit</li>
<li>Supports <code>--symbol</code> option for symbol search</li>
<li>Faster for quick checks</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="language-bash">bsharp analyze Program.cs --out analysis.json
</code></pre>
<h3 id="workspace-mode"><a class="header" href="#workspace-mode">Workspace Mode</a></h3>
<p><strong>Triggered when:</strong> Input is <code>.sln</code>, <code>.csproj</code>, or directory</p>
<p><strong>Behavior:</strong></p>
<ul>
<li>Loads entire workspace</li>
<li>Discovers all source files</li>
<li>Follows project references (if <code>--follow-refs true</code>)</li>
<li>Applies include/exclude filters</li>
<li>Analyzes all files deterministically</li>
<li>Aggregates results into single report</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="language-bash">bsharp analyze MySolution.sln \
    --follow-refs true \
    --exclude "**/Tests/**" \
    --out workspace-analysis.json
</code></pre>
<hr />
<h2 id="configuration-file-format"><a class="header" href="#configuration-file-format">Configuration File Format</a></h2>
<h3 id="toml-format"><a class="header" href="#toml-format">TOML Format</a></h3>
<p><strong><code>.bsharp.toml</code>:</strong></p>
<pre><code class="language-toml">[analysis]
max_cyclomatic_complexity = 10
max_method_length = 50

[analysis.control_flow]
cf_high_complexity_threshold = 10
cf_deep_nesting_threshold = 4

[analysis.quality]
long_method = "warning"
god_class = "error"
empty_catch = "error"

[workspace]
follow_refs = true
include = ["src/**/*.cs"]
exclude = ["**/obj/**", "**/bin/**", "**/Tests/**"]

[enable_rulesets]
naming = true
quality = true
control_flow = true

[enable_passes]
indexing = true
control_flow = true
dependencies = true

[rule_severities]
MET001 = "error"
QUAL001 = "warning"
</code></pre>
<h3 id="json-format"><a class="header" href="#json-format">JSON Format</a></h3>
<p><strong><code>.bsharp.json</code>:</strong></p>
<pre><code class="language-json">{
  "analysis": {
    "max_cyclomatic_complexity": 10,
    "max_method_length": 50,
    "control_flow": {
      "cf_high_complexity_threshold": 10,
      "cf_deep_nesting_threshold": 4
    }
  },
  "workspace": {
    "follow_refs": true,
    "include": ["src/**/*.cs"],
    "exclude": ["**/obj/**", "**/bin/**"]
  },
  "enable_rulesets": {
    "naming": true,
    "quality": true
  },
  "enable_passes": {
    "indexing": true,
    "control_flow": true
  },
  "rule_severities": {
    "MET001": "error",
    "QUAL001": "warning"
  }
}
</code></pre>
<hr />
<h2 id="output-format"><a class="header" href="#output-format">Output Format</a></h2>
<h3 id="analysis-report-structure"><a class="header" href="#analysis-report-structure">Analysis Report Structure</a></h3>
<pre><code class="language-json">{
  "schema_version": 1,
  "diagnostics": {
    "items": [
      {
        "code": "MET001",
        "severity": "warning",
        "message": "Method has high cyclomatic complexity",
        "file": "src/OrderService.cs",
        "line": 42,
        "column": 17,
        "end_line": 85,
        "end_column": 5
      }
    ]
  },
  "metrics": {
    "total_lines": 1250,
    "code_lines": 980,
    "comment_lines": 150,
    "blank_lines": 120,
    "class_count": 15,
    "interface_count": 3,
    "method_count": 87,
    "total_complexity": 245,
    "max_complexity": 18,
    "max_nesting_depth": 5
  },
  "cfg": {
    "total_methods": 87,
    "high_complexity_count": 5,
    "deep_nesting_count": 3
  },
  "deps": {
    "total_nodes": 15,
    "total_edges": 42,
    "circular_dependencies": 0,
    "max_depth": 4
  },
  "workspace_warnings": [
    "Failed to parse project: MyBrokenProject.csproj"
  ]
}
</code></pre>
<h3 id="diagnostic-fields"><a class="header" href="#diagnostic-fields">Diagnostic Fields</a></h3>
<ul>
<li><strong>code</strong>: Diagnostic code (e.g., <code>MET001</code>, <code>QUAL010</code>)</li>
<li><strong>severity</strong>: <code>error</code>, <code>warning</code>, <code>info</code>, or <code>hint</code></li>
<li><strong>message</strong>: Human-readable description</li>
<li><strong>file</strong>: Source file path</li>
<li><strong>line/column</strong>: Start position</li>
<li><strong>end_line/end_column</strong>: End position (optional)</li>
</ul>
<h3 id="metrics-fields"><a class="header" href="#metrics-fields">Metrics Fields</a></h3>
<ul>
<li><strong>total_lines</strong>: Total lines including blank/comments</li>
<li><strong>code_lines</strong>: Lines with actual code</li>
<li><strong>comment_lines</strong>: Lines with comments</li>
<li><strong>blank_lines</strong>: Empty lines</li>
<li><strong>class_count</strong>: Number of classes</li>
<li><strong>interface_count</strong>: Number of interfaces</li>
<li><strong>method_count</strong>: Number of methods</li>
<li><strong>total_complexity</strong>: Sum of all method complexities</li>
<li><strong>max_complexity</strong>: Highest method complexity</li>
<li><strong>max_nesting_depth</strong>: Deepest nesting level</li>
</ul>
<hr />
<h2 id="available-rulesets"><a class="header" href="#available-rulesets">Available Rulesets</a></h2>
<h3 id="built-in-rulesets"><a class="header" href="#built-in-rulesets">Built-in Rulesets</a></h3>
<p><strong><code>naming</code></strong> - Naming convention rules</p>
<ul>
<li>Class names: PascalCase</li>
<li>Method names: PascalCase</li>
<li>Field names: camelCase with <code>_</code> prefix</li>
<li>Constant names: UPPER_CASE or PascalCase</li>
</ul>
<p><strong><code>quality</code></strong> - Code quality rules</p>
<ul>
<li>Long method detection</li>
<li>Long parameter list</li>
<li>God class detection</li>
<li>Empty catch blocks</li>
<li>Magic numbers</li>
</ul>
<p><strong><code>control_flow</code></strong> - Control flow rules</p>
<ul>
<li>High complexity warnings</li>
<li>Deep nesting warnings</li>
<li>Unreachable code detection</li>
</ul>
<p><strong><code>semantic</code></strong> - Semantic rules</p>
<ul>
<li>Type checking</li>
<li>Null reference analysis</li>
<li>Resource leak detection</li>
</ul>
<hr />
<h2 id="available-passes"><a class="header" href="#available-passes">Available Passes</a></h2>
<h3 id="built-in-passes"><a class="header" href="#built-in-passes">Built-in Passes</a></h3>
<p><strong><code>indexing</code></strong> (Phase: Index)</p>
<ul>
<li>Builds symbol index</li>
<li>Creates name index</li>
<li>Generates FQN map</li>
</ul>
<p><strong><code>control_flow</code></strong> (Phase: Semantic)</p>
<ul>
<li>Analyzes control flow</li>
<li>Calculates complexity metrics</li>
<li>Detects control flow smells</li>
</ul>
<p><strong><code>dependencies</code></strong> (Phase: Global)</p>
<ul>
<li>Builds dependency graph</li>
<li>Detects circular dependencies</li>
<li>Calculates coupling metrics</li>
</ul>
<p><strong><code>reporting</code></strong> (Phase: Reporting)</p>
<ul>
<li>Generates final report</li>
<li>Aggregates diagnostics</li>
<li>Summarizes artifacts</li>
</ul>
<hr />
<h2 id="diagnostic-codes"><a class="header" href="#diagnostic-codes">Diagnostic Codes</a></h2>
<h3 id="metrics-met"><a class="header" href="#metrics-met">Metrics (MET)</a></h3>
<ul>
<li><strong>MET001</strong>: High cyclomatic complexity</li>
<li><strong>MET002</strong>: Deep nesting detected</li>
<li><strong>MET003</strong>: Long method</li>
<li><strong>MET004</strong>: Long parameter list</li>
</ul>
<h3 id="quality-qual"><a class="header" href="#quality-qual">Quality (QUAL)</a></h3>
<ul>
<li><strong>QUAL001</strong>: Long method</li>
<li><strong>QUAL002</strong>: Long parameter list</li>
<li><strong>QUAL010</strong>: Empty catch block</li>
<li><strong>QUAL020</strong>: Naming convention violation</li>
<li><strong>QUAL030</strong>: Resource not disposed</li>
</ul>
<h3 id="control-flow-cf"><a class="header" href="#control-flow-cf">Control Flow (CF)</a></h3>
<ul>
<li><strong>CF001</strong>: Unreachable code</li>
<li><strong>CF002</strong>: High complexity</li>
<li><strong>CF003</strong>: Deep nesting</li>
</ul>
<h3 id="dependencies-dep"><a class="header" href="#dependencies-dep">Dependencies (DEP)</a></h3>
<ul>
<li><strong>DEP001</strong>: Circular dependency</li>
<li><strong>DEP002</strong>: High coupling</li>
<li><strong>DEP003</strong>: Unstable dependency</li>
</ul>
<hr />
<h2 id="performance"><a class="header" href="#performance">Performance</a></h2>
<h3 id="analysis-speed"><a class="header" href="#analysis-speed">Analysis Speed</a></h3>
<ul>
<li><strong>Single file</strong> (&lt; 1000 lines): &lt; 100ms</li>
<li><strong>Small project</strong> (&lt; 10 files): &lt; 500ms</li>
<li><strong>Medium project</strong> (10-50 files): 500ms-2s</li>
<li><strong>Large solution</strong> (100+ files): 2-10s</li>
</ul>
<h3 id="memory-usage"><a class="header" href="#memory-usage">Memory Usage</a></h3>
<ul>
<li>Scales with codebase size</li>
<li>Typical: 50-200 MB for medium projects</li>
<li>Artifacts cached in memory during analysis</li>
</ul>
<h3 id="parallel-analysis"><a class="header" href="#parallel-analysis">Parallel Analysis</a></h3>
<p>With <code>parallel_analysis</code> feature enabled:</p>
<pre><code class="language-bash">cargo build --release --features parallel_analysis
</code></pre>
<p>Files analyzed in parallel, significantly faster for large workspaces.</p>
<hr />
<h2 id="integration"><a class="header" href="#integration">Integration</a></h2>
<h3 id="cicd-pipeline"><a class="header" href="#cicd-pipeline">CI/CD Pipeline</a></h3>
<pre><code class="language-yaml"># GitHub Actions
- name: Code Quality Analysis
  run: |
    bsharp analyze MySolution.sln \
      --out analysis.json \
      --format json \
      --severity MET001=error QUAL001=error
    
    # Check for errors
    errors=$(jq '.diagnostics.items | map(select(.severity == "error")) | length' analysis.json)
    if [ "$errors" -gt 0 ]; then
      echo "Quality gate failed: $errors errors"
      exit 1
    fi
</code></pre>
<h3 id="pre-commit-hook"><a class="header" href="#pre-commit-hook">Pre-commit Hook</a></h3>
<pre><code class="language-bash">#!/bin/bash
# .git/hooks/pre-commit

changed_files=$(git diff --cached --name-only --diff-filter=ACM | grep '\.cs$')

for file in $changed_files; do
    result=$(bsharp analyze "$file" --format json 2&gt;/dev/null)
    errors=$(echo "$result" | jq '.diagnostics.items | map(select(.severity == "error")) | length')
    
    if [ "$errors" -gt 0 ]; then
        echo "Analysis errors in $file"
        exit 1
    fi
done
</code></pre>
<h3 id="quality-gate-script"><a class="header" href="#quality-gate-script">Quality Gate Script</a></h3>
<pre><code class="language-bash">#!/bin/bash
# quality-gate.sh

bsharp analyze MySolution.sln \
    --out report.json \
    --format json \
    --enable-ruleset naming quality control_flow \
    --severity MET001=error QUAL001=error

# Extract metrics
errors=$(jq '.diagnostics.items | map(select(.severity == "error")) | length' report.json)
max_complexity=$(jq '.metrics.max_complexity' report.json)

echo "Errors: $errors"
echo "Max Complexity: $max_complexity"

if [ "$errors" -gt 0 ]; then
    echo "❌ Quality gate failed: $errors errors found"
    exit 1
fi

if [ "$max_complexity" -gt 15 ]; then
    echo "❌ Quality gate failed: complexity $max_complexity exceeds threshold 15"
    exit 1
fi

echo "✅ Quality gate passed"
</code></pre>
<hr />
<h2 id="troubleshooting"><a class="header" href="#troubleshooting">Troubleshooting</a></h2>
<h3 id="analysis-fails"><a class="header" href="#analysis-fails">Analysis Fails</a></h3>
<pre><code class="language-bash">$ bsharp analyze MyProject.csproj
Error: Failed to load workspace
</code></pre>
<p><strong>Solutions:</strong></p>
<ul>
<li>Check project file is valid XML</li>
<li>Verify all referenced projects exist</li>
<li>Use <code>--follow-refs false</code> to skip references</li>
</ul>
<h3 id="out-of-memory"><a class="header" href="#out-of-memory">Out of Memory</a></h3>
<pre><code class="language-bash">Error: memory allocation failed
</code></pre>
<p><strong>Solutions:</strong></p>
<ul>
<li>Analyze smaller subsets with <code>--include</code>/<code>--exclude</code></li>
<li>Disable expensive passes with <code>--disable-pass</code></li>
<li>Increase system memory</li>
</ul>
<h3 id="slow-analysis"><a class="header" href="#slow-analysis">Slow Analysis</a></h3>
<p><strong>Solutions:</strong></p>
<ul>
<li>Build with <code>parallel_analysis</code> feature</li>
<li>Exclude unnecessary files</li>
<li>Disable unused rulesets/passes</li>
</ul>
<hr />
<h2 id="related-documentation"><a class="header" href="#related-documentation">Related Documentation</a></h2>
<ul>
<li><a href="./overview.html">CLI Overview</a> - General CLI usage</li>
<li><a href="../analysis/pipeline.html">Analysis Pipeline</a> - Analysis internals</li>
<li><a href="../analysis/metrics.html">Metrics Collection</a> - Metrics details</li>
<li><a href="../analysis/quality.html">Code Quality</a> - Quality rules</li>
</ul>
<hr />
<h2 id="references"><a class="header" href="#references">References</a></h2>
<ul>
<li><strong>Implementation:</strong> <code>src/cli/commands/analyze.rs</code></li>
<li><strong>Pipeline:</strong> <code>src/analysis/framework/pipeline.rs</code></li>
<li><strong>Configuration:</strong> <code>src/analysis/context.rs</code></li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../cli/compile.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../workspace/overview.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../cli/compile.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../workspace/overview.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
